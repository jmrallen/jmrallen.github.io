<!DOCTYPE html>
<html lang="en">

<head>
  <title>Basic Mappa Tutorial</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.16/p5.min.js" type="text/javascript"></script>
  <script src="https://unpkg.com/mappa-mundi/dist/mappa.js" type="text/javascript"></script>
</head>

<body>
  <script>
     // Create a variable to hold our map
    let myMap;
    // Create a variable to hold our canvas
    let canvas;
    // Create a new Mappa instance using Leaflet.
    const mappa = new Mappa('Leaflet');

    // Lets put all our map options in a single object
    const options = {
    lat: 0,
    lng: 0,
    zoom: 4,
    style: "http://{s}.tile.osm.org/{z}/{x}/{y}.png"
    }

    // p5.js setup
    function setup(){
    // Create a canvas 640x640
    canvas = createCanvas(640,640); 
    // Add a grey background
    //background(100);
    
    // Create a tile map with lat 0, lng 0, zoom 4
    myMap = mappa.tileMap(options); 
    // Overlay the canvas over the tile map
    myMap.overlay(canvas);
    fill(200, 100, 100);
    // Only redraw the point when the map changes and not every frame.
    myMap.onChange(drawPoint);
    }

    // p5.js draw
    function draw(){
    }
    function drawPoint(){
    // Clear the previous canvas on every frame
    clear();
    // Every Frame, get the canvas position 
    // for the latitude and longitude of Nigeria
    const nigeria = myMap.latLngToPixel(11.396396, 5.076543); 
    // Using that position, draw an ellipse
    ellipse(nigeria.x, nigeria.y, 20, 20);
    }
  </script>
</body>

</html>